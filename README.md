# Estimating the Value of CEOs in Privately Held Businesses

**Authors:** Miklós Koren, Krisztina Orbán, Bálint Szilágyi, Álmos Telegdy, András Vereckei

## Overview

This project implements a novel placebo-controlled event study design to estimate the causal effect of CEO quality on firm performance using comprehensive administrative data from Hungarian firms (1992-2022). The code constructs placebo CEO transitions—randomly assigned fake transitions that exclude periods of actual CEO changes—to separate true managerial effects from spurious correlations. The Makefile automates the entire process to generate the data for tables and figures in the paper. The replicator should expect the code to run for approximately 2-4 hours on a standard desktop machine.

## Data Availability and Provenance Statements

### Data Sources

Our analysis uses comprehensive administrative data on Hungarian firms during 1992-2022, created by merging balance sheet data with firm registry information. The balance sheet data come from the **Mérleg LTS dataset**, which contains financial information for essentially all Hungarian firms required to file annual reports. The firm registry data come from the **Cégjegyzék LTS dataset**, which includes information on firm registration, ownership structure, and executive appointments. Both datasets are distributed by HUN-REN KRTK and originally published by Opten Zrt.

### Why Data Cannot be Shared

The data are **proprietary and cannot be made public**. The datasets contain sensitive firm-level administrative information that is subject to strict confidentiality and redistribution restrictions under the original data use agreements with Opten Zrt and HUN-REN KRTK.

### How to Obtain Access

**For Commercial Use:**
Interested researchers should contact **opten.hu** to obtain a license. Annual license fees are in the order of **10,000 EUR** and you can expect contract negotiation and data access within **1-2 months**.

**For Academic/Replication Use:**
For replication purposes or academic research projects, researchers may contact **KRTK Adatbank** at: https://adatbank.krtk.mta.hu/

### Statement about Rights

- [x] I certify that the author(s) of the manuscript have legitimate access to and permission to use the data used in this manuscript.
- [ ] I certify that the author(s) of the manuscript have documented permission to redistribute/publish the data contained within this replication package.

### Summary of Availability

- [ ] All data **are** publicly available.
- [ ] Some data **cannot be made** publicly available.
- [x] **No data can be made** publicly available.

### Details on each Data Source

| Data Name | Data Files | Location | Provided | Citation |
|-----------|------------|----------|----------|----------|
| Hungarian Balance Sheet Data | balance_sheet_80_22.dta | input/merleg-LTS-2023/balance/ | No | HUN-REN KRTK (2024a) |
| Hungarian CEO Panel | ceo-panel.dta | input/ceo-panel/ | No | HUN-REN KRTK (2024b) |

#### Hungarian Balance Sheet Data (Mérleg LTS)

The balance sheet data include all firms required to file financial statements with Hungarian authorities, covering essentially the entire formal business sector except for the smallest individual entrepreneurs. The dataset contains detailed financial information including sales revenue, export revenue, employment, tangible and intangible assets, raw materials costs, wage bills, personnel expenses, and ownership indicators for state and foreign control. Data are in Stata format (.dta) with full variable and value labels.

#### Hungarian CEO Panel (Cégjegyzék LTS)

The firm registry data include information on firm registration, ownership structure, and executive appointments. The dataset contains information on CEO characteristics including gender, birth year, manager category, and ownership status. Data are in Stata format (.dta) with full variable and value labels.

## Dataset list

| Data file | Source | Notes | Provided |
|-----------|--------|-------|----------|
| `input/merleg-LTS-2023/balance/balance_sheet_80_22.dta` | Mérleg LTS | Balance sheet data 1980-2022 | No |
| `input/ceo-panel/ceo-panel.dta` | Cégjegyzék LTS | CEO panel data | No |
| `temp/balance.dta` | Derived | Processed balance sheet data | Generated by code |
| `temp/ceo-panel.dta` | Derived | Processed CEO panel data | Generated by code |
| `temp/analysis-sample.dta` | Derived | Final analytical dataset | Generated by code |
| `temp/edgelist.csv` | Derived | Firm-manager network edgelist | Generated by code |
| `temp/large_component_managers.csv` | Derived | Manager IDs in largest connected component | Generated by code |
| `temp/surplus.dta` | Derived | Dataset with estimated surplus and manager skills | Generated by code |
| `temp/within_firm.dta` | Derived | Variance decomposition components (panel) | Generated by code |
| `temp/cross_section.dta` | Derived | Variance decomposition components (cross-section) | Generated by code |
| `output/extract/*.dta` | Derived | **Confidential** data extracts for external analysis | Not provided |

## Computational requirements

### Software Requirements

- Stata (code was last run with version 18.0)
  - Required packages: reghdfe (version 6.12.3 08aug2023), estout (version 3.31 26apr2022), xt2treatments (version 0.8.4 21may2024), e2frame (version 0.1.0 21may2024)
  - The program `code/util/install.do` will install all dependencies and should be run once: `stata -b do code/util/install.do`
- Julia (code was last run with version 1.10.4)
  - Required packages: CSV, DataFrames, Graphs, SparseArrays (specified in Project.toml)
- LaTeX (for compiling `output/paper.tex`)
  - Standard LaTeX distribution with packages: booktabs, graphicx, natbib, hyperref
- Make (for running the Makefile)

**Important:** All scripts must be run from the project root directory to ensure correct relative file paths.

### Memory, Runtime, Storage Requirements

#### Summary

Approximate time needed to reproduce the analyses on a standard (2024) desktop machine:

- [x] 2-8 hours

Approximate storage space needed:

- [x] 2 GB - 25 GB (depending on input data size)

#### Details

The code was last run on a **MacOS machine with Stata 18.0 and Julia 1.10.4**. Processing involves substantial data manipulation of millions of firm-year observations and network analysis of 1.4 million firm-manager connections, requiring adequate RAM and processing power.

## Description of programs/code

### Makefile

The project includes a **Makefile** that automates the entire analysis pipeline. The Makefile specifies dependencies between scripts and ensures proper execution order:

- Data processing is sequential: balance.do → ceo-panel.do → unfiltered.do → analysis-sample.do → placebo.do
- Network analysis: edgelist.do → connected_component.jl
- Estimation pipeline: surplus.do → revenue_function.do → manager_value.do → event_study.do
- Tables depend on appropriate estimation outputs and data files
- Final PDF compilation requires all tables and figures to be generated first

**All commands must be run from the project root directory.**

### Code Structure

- `code/create/balance.do`: Processes raw balance sheet data, applies time restrictions (1992-2022), filters data quality issues, and creates standardized variables
- `code/create/ceo-panel.do`: Processes CEO registry data, constructs CEO panel with firm-person-year structure, and generates CEO count variables
- `code/create/unfiltered.do`: Merges CEO and balance sheet data, applies industry classifications, creates analysis variables
- `code/create/analysis-sample.do`: Applies sample restrictions to create final analytical dataset
- `code/create/placebo.do`: Generates placebo CEO transitions with same probability as actual changes but excluding actual transition periods
- `code/create/edgelist.do`: Extracts firm-manager edgelist from analysis sample and exports to CSV format
- `code/create/connected_component.jl`: Julia script for network analysis that projects bipartite firm-manager graph and identifies largest connected component of managers
- `code/create/extract.do`: Creates confidential data extracts for external analysis (2022 values, 2015 manager changes, connected component managers)
- `code/estimate/surplus.do`: Estimates revenue function and residualizes surplus for manager skill identification
- `code/estimate/revenue_function.do`: Estimates revenue function models and saves results for table creation
- `code/estimate/event_study.do`: Implements placebo-controlled event study comparing actual vs placebo CEO transitions
- `code/estimate/manager_value.do`: Estimates manager skills using fixed effects, creates histograms and regression tables showing manager effects on firm outcomes
- `code/exhibit/table1.do`: Creates Table 1 - Sample distribution over time
- `code/exhibit/table2.do`: Creates Table 2 - CEO patterns and spell length analysis (two panels)
- `code/exhibit/table3.do`: Creates Table 3 - Revenue function estimation results
- `code/exhibit/table4.do`: Creates Table 4 - Variance decomposition of firm performance
- `code/exhibit/tableA1.do`: Creates Table A1 - Industry-level summary statistics (appendix)
- `code/exhibit/figure1.do`: Creates Figure 1 - Event study results (two panels)
- `code/util/industry.do`: Creates industry sector classifications using TEAOR08 codes
- `code/util/variables.do`: Constructs derived variables including log transformations, CEO tenure, age variables, and firm characteristics
- `code/util/filter.do`: Applies final sample restrictions excluding firms with complex CEO structures or specific industries

## Instructions to Replicators

1. **Obtain the data**: Follow the instructions above to obtain access to the Mérleg LTS and Cégjegyzék LTS datasets from Opten Zrt or KRTK Adatbank.

2. **Place data files**: 
   - Place `balance_sheet_80_22.dta` in `input/merleg-LTS-2023/balance/`
   - Place `ceo-panel.dta` in `input/ceo-panel/`

3. **Install dependencies**: Run the following to install required Stata packages:
   ```bash
   make install
   ```
   or manually:
   ```bash
   stata -b do code/util/install.do
   ```

4. **Run the analysis**: From the project root directory, execute:
   ```bash
   make all
   ```
   This will run all Stata scripts in the correct order and compile the LaTeX document.

5. **Alternative manual execution**: If Make is not available, run the following commands from the project root:
   ```bash
   # Process data with Stata
   stata -b do code/create/balance.do
   stata -b do code/create/ceo-panel.do
   stata -b do code/create/analysis-sample.do
   stata -b do code/create/edgelist.do
   
   # Run network analysis with Julia
   julia --project=. code/create/connected_component.jl
   
   # Generate econometric analysis
   stata -b do code/estimate/surplus.do
   stata -b do code/estimate/manager_value.do
   
   # Create exhibit tables
   stata -b do code/exhibit/table1.do
   stata -b do code/exhibit/table2.do
   stata -b do code/exhibit/table3.do
   
   # Create data extracts (optional)
   stata -b do code/create/extract.do
   ```
   Then compile the LaTeX document:
   ```bash
   cd output && pdflatex paper.tex && bibtex paper && pdflatex paper.tex && pdflatex paper.tex
   ```

### Details

- The Stata scripts generate comprehensive log files documenting all data processing steps
- Intermediate datasets are saved in the `temp/` directory
- The final analytical sample contains 8,872,039 firm-year observations representing 891,631 unique firms
- Manager skill analysis identifies 189,108 managers in the largest connected component
- All file paths in the scripts are relative to the project root directory

## Confidential Data Extracts

The project creates three confidential data extracts in `output/extract/` for external analysis. These extracts contain sensitive firm and manager information and are **not included in the repository** (see `.gitignore`).

### Extract 1: 2022 Manager Values
- **File**: `output/extract/2022_values.dta`
- **Content**: Firm fixed effects and manager skills for year 2022
- **Variables**: `frame_id_numeric`, `firm_fixed_effect`, `manager_skill`

### Extract 2: Manager Changes in 2015
- **File**: `output/extract/manager_changes_2015.dta`
- **Content**: Firms with CEO transitions in 2015, comparing surplus changes
- **Sample**: Single-manager firms before and after 2015 (excluding transition years 2014-2015)
- **Variables**: `frame_id_numeric`, `surplus_change`, `chi`, `sales`, `EBITDA1`, `EBITDA2`

### Extract 3: Connected Component Managers
- **File**: `output/extract/connected_managers.dta`
- **Content**: Manager characteristics for those with manager skills
- **Variables**: `person_id`, `manager_skill`, `entry_year`, `birth_year`, `hungarian_name`, `male`

To generate these extracts, run:
```bash
make output/extract/2022_values.dta
```
or include them in the full pipeline with `make all`.

## Main Results

Our analysis yields three key findings about CEO value in Hungarian private firms:

1. **Placebo-controlled causal effects**: The naive comparison shows firms hiring better CEOs outperform those hiring worse CEOs by 25.3%. However, placebo transitions reveal a 19.7% spurious effect, implying the true causal impact is 5.5%—statistically significant but only 22% of the raw correlation.

2. **Substantial skill heterogeneity**: Within firms, replacing a CEO at the 25th percentile with one at the 75th percentile increases productivity by 9.6%. Across the connected component of mobile managers, the same replacement increases productivity by 24.6%.

3. **Methodological implications**: Our placebo analysis reveals that 77% of apparent CEO effects reflect spurious correlations rather than true managerial impact, suggesting standard approaches substantially overstate CEO importance.

These results provide a more nuanced understanding of CEO value and demonstrate the importance of rigorous identification strategies in managerial effects research.

## List of tables and programs

The provided code reproduces:

- [x] All tables and figures in the paper

| Figure/Table #    | Program                  | Output file                      | Description                     |
|-------------------|--------------------------|----------------------------------|---------------------------------|
| Table 1           | code/exhibit/table1.do   | output/table/table1.tex          | Sample distribution over time   |
| Table 2           | code/exhibit/table2.do   | output/table/table2_panelA.tex, table2_panelB.tex | CEO patterns and spell analysis (two panels) |
| Table 3           | code/exhibit/table3.do   | output/table/table3.tex          | Revenue function estimation results |
| Table 4           | code/exhibit/table4.do   | output/table/table4a.tex         | Variance decomposition of firm performance |
| Table A1          | code/exhibit/tableA1.do  | output/table/tableA1.tex         | Industry-level summary statistics (appendix) |
| Figure 1          | code/exhibit/figure1.do  | output/figure/event_study.pdf    | Event study: actual vs placebo transitions |
| Manager Skills    | code/estimate/manager_value.do | output/figure/manager_skill_within.pdf, manager_skill_connected.pdf | Manager skill distributions |
| Correlation Plot  | code/estimate/event_study.do | output/figure/manager_skill_correlation.pdf | Firm vs manager fixed effects |

# Sample

```stata
. tabulate year, missing

       Year |
  1980-2022 |      Freq.     Percent        Cum.
------------+-----------------------------------
       1992 |     98,780        0.97        0.97
       1993 |    122,677        1.20        2.17
       1994 |    153,639        1.50        3.67
       1995 |    171,759        1.68        5.35
       1996 |    198,558        1.94        7.30
       1997 |    219,751        2.15        9.45
       1998 |    246,660        2.41       11.86
       1999 |    256,992        2.52       14.38
       2000 |    280,386        2.75       17.13
       2001 |    302,894        2.97       20.09
       2002 |    301,278        2.95       23.04
       2003 |    305,947        3.00       26.04
       2004 |    319,750        3.13       29.17
       2005 |    326,905        3.20       32.37
       2006 |    334,498        3.27       35.64
       2007 |    345,134        3.38       39.02
       2008 |    362,920        3.55       42.57
       2009 |    370,788        3.63       46.20
       2010 |    384,570        3.77       49.97
       2011 |    402,636        3.94       53.91
       2012 |    397,131        3.89       57.80
       2013 |    437,692        4.29       62.08
       2014 |    427,494        4.19       66.27
       2015 |    433,371        4.24       70.51
       2016 |    431,041        4.22       74.73
       2017 |    424,184        4.15       78.89
       2018 |    425,601        4.17       83.05
       2019 |    419,883        4.11       87.16
       2020 |    424,501        4.16       91.32
       2021 |    432,594        4.24       95.55
       2022 |    454,106        4.45      100.00
------------+-----------------------------------
      Total | 10,214,120      100.00
```

# Acknowledgements
- Project no. 144193 has been implemented with the support provided by the Ministry of 
  Culture and Innovation of Hungary from the National Research, Development and 
  Innovation Fund, financed under the KKP_22 funding scheme.
- This project was funded by the European Research Council (ERC Advanced Grant 
  agreement number 101097789). The views expressed in this research are those of the authors and 
  do not necessary reflect the official view of the European Union or the European 
  Research Council.

# References
- HUN-REN KRTK (distributor). 2024. "Cégjegyzék LTS [data set]" Published by Opten 
  Zrt, Budapest. Contributions by CEU MicroData.
- HUN-REN KRTK (distributor). 2024. "Mérleg LTS [data set]" Published by Opten Zrt, 
  Budapest. Contributions by CEU MicroData.
